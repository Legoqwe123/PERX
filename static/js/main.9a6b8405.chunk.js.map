{"version":3,"sources":["HOC/with-loading.jsx","components/ui/badge.jsx","assests/icons/shopping-basket.svg","routes.js","components/ui/header.jsx","constants/api.js","store/slices/product.js","utils/utils.js","store/slices/cart.js","assests/icons/add.svg","assests/icons/minus.svg","components/ui/amount.jsx","components/Product/ui/product-item.jsx","components/Product/ui/product-list.jsx","context/dealers-context.js","pages/product.js","components/Product/product-page.jsx","components/ui/button-back.jsx","components/Cart/ui/cart-info.jsx","components/ui/button-close.jsx","components/Cart/ui/cart-item.jsx","components/Cart/ui/cart-list.jsx","pages/cart.js","components/Cart/cart-page.jsx","App.jsx","store/store.js","store/middleware/local-storage.js","index.js"],"names":["Component","loadingDependency","Badge","content","children","className","routes","Object","freeze","product","cart","Header","counterProductInCart","useSelector","state","reduce","acc","item","counter","to","src","cartIcon","width","height","alt","API_URL","createUrlAPI","path","Array","isArray","createUrlForStatic","indexLastSlash","lastIndexOf","slice","productSlice","createSlice","name","initialState","loading","error","products","reducers","fetchProductRequested","fetchProductSuccess","action","payload","fetchProductFailure","actions","findIndexItemByName","arr","findIndex","element","deleteItemByName","filter","cartSlice","addItem","productIndexInCart","push","removeItem","setCart","_","updateItem","removeItemFully","clearAllCart","Amount","handleClickAdd","handleClickRemove","value","disabled","handleChange","type","onClick","iconMinus","min","maxLength","onChange","e","target","iconPlus","ProductItem","productInCart","find","dispatch","useDispatch","handleClickButtonAdd","image","price","ProductList","map","props","get","DealersContext","createContext","useDealersContext","useContext","Product","dealers","productData","useEffect","a","fetchUrl","isEmpty","join","fetch","response","json","data","fetchProduct","ButtonBack","history","useHistory","classNames","goBack","CartInfo","totalSum","toFixed","setTimeout","ButtonClose","handleClick","iconAdd","CartItem","CartList","Cart","length","App","setCartOutLocalStorageAtInizializationApp","dataCartLocalStorage","JSON","parse","localStorage","getItem","productsByFilterDealers","intersectionBy","useLayoutEffect","component","exact","store","configureStore","reducer","combineReducers","middleware","thunk","next","result","includes","setItem","stringify","getState","window","app","startApp","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.9a6b8405.chunk.js","sourcesContent":["import { useSelector } from \"react-redux\";\nimport get from \"lodash/get\";\n\nexport const withLoading = (Component, loadingDependency) => (props) => {\n  const isLoading = useSelector((state) => get(state, loadingDependency));\n\n  if (isLoading) {\n    return <div>Загрузка...</div>;\n  }\n\n  return <Component {...props} />;\n};\n","export const Badge = ({ content, children }) => {\n  return (\n    <div className=\"badge\">\n      {children}\n      <span className=\"badge-content\">{content}</span>\n    </div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/shopping-basket.7340c518.svg\";","export const routes = Object.freeze({\n  product: \"/\",\n  cart: \"/cart\",\n});\n","import { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport { Badge } from \"./badge\";\n\nimport cartIcon from \"../../assests/icons/shopping-basket.svg\";\nimport { routes } from \"../../routes\";\n\nexport const Header = () => {\n  const counterProductInCart = useSelector((state) =>\n    state.cart.reduce((acc, item) => acc + item.counter, 0)\n  );\n\n  return (\n    <header className=\"shop-header\">\n      <div className=\"shop-header__wrapper container-95\">\n        <p className=\"shop-header__text\">Интернет магазин</p>\n\n        <Link to={routes.cart}>\n          <Badge content={counterProductInCart}>\n            <img src={cartIcon} width=\"40\" height=\"40\" alt=\"Cart\" />\n          </Badge>\n        </Link>\n      </div>\n    </header>\n  );\n};\n","export const API_URL = \"https://murmuring-tor-81614.herokuapp.com/api\";\n\nexport const createUrlAPI = (path) => {\n  if (Array.isArray(path)) {\n    return path.reduce((acc, item) => acc + item, API_URL);\n  }\n\n  return API_URL + path;\n};\n\nexport const createUrlForStatic = (path) => {\n  const indexLastSlash = API_URL.lastIndexOf(\"/\");\n  const urlWithoutLastSlash = API_URL.slice(0, indexLastSlash);\n\n  return urlWithoutLastSlash + path;\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport isEmpty from \"lodash/isEmpty\";\n\nimport { createUrlAPI } from \"../../constants/api\";\n\nconst initialProductValues = {\n  loading: false,\n  error: {},\n  products: [],\n};\n\nexport const productSlice = createSlice({\n  name: \"product\",\n  initialState: initialProductValues,\n  reducers: {\n    fetchProductRequested(state) {\n      state.loading = true;\n    },\n    fetchProductSuccess(state, action) {\n      state.loading = false;\n      state.products = action.payload;\n    },\n    fetchProductFailure(state, action) {\n      state.error = action.payload;\n      state.error = false;\n    },\n  },\n});\n\nexport const actions = productSlice.actions;\n\nexport const fetchProduct = (dealers) => async (dispatch) => {\n  dispatch(actions.fetchProductRequested());\n\n  const fetchUrl = isEmpty(dealers)\n    ? createUrlAPI(\"/goods\")\n    : createUrlAPI([\"/goods\", `/?dealers=${dealers.join(\",\")}`]);\n\n  try {\n    const response = await fetch(fetchUrl);\n    const data = await response.json();\n\n    dispatch(actions.fetchProductSuccess(data));\n  } catch (error) {\n    dispatch(actions.fetchProductFailure(error));\n  }\n};\n","export const findIndexItemByName = (arr, item) =>\n  arr.findIndex((element) => element.name === item.name);\n\nexport const deleteItemByName = (arr, item) =>\n  arr.filter((element) => element.name !== item.name);\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nimport { findIndexItemByName, deleteItemByName } from \"../../utils/utils\";\n\nconst initialCartValues = [];\n\nexport const cartSlice = createSlice({\n  name: \"cart\",\n  initialState: initialCartValues,\n  reducers: {\n    addItem(state, action) {\n      const productIndexInCart = findIndexItemByName(state, action.payload);\n\n      if (productIndexInCart >= 0) {\n        state[productIndexInCart].counter++;\n\n        return;\n      }\n\n      state.push({ ...action.payload, counter: 1 });\n    },\n\n    removeItem(state, action) {\n      const productIndexInCart = findIndexItemByName(state, action.payload);\n\n      if (state[productIndexInCart].counter <= 1) {\n        return deleteItemByName(state, action.payload);\n      }\n\n      state[productIndexInCart].counter--;\n    },\n\n    setCart(_, action) {\n      return action.payload;\n    },\n\n    updateItem(state, action) {\n      const productIndexInCart = findIndexItemByName(state, action.payload);\n\n      state[productIndexInCart] = action.payload;\n    },\n\n    removeItemFully(state, action) {\n      return deleteItemByName(state, action.payload);\n    },\n\n    clearAllCart() {\n      return [];\n    },\n  },\n});\n\nexport const actions = cartSlice.actions;\n","export default __webpack_public_path__ + \"static/media/add.c6f2e133.svg\";","export default __webpack_public_path__ + \"static/media/minus.7aa3be90.svg\";","import iconPlus from \"../../assests/icons/add.svg\";\nimport iconMinus from \"../../assests/icons/minus.svg\";\n\nexport const Amount = ({\n  handleClickAdd,\n  handleClickRemove,\n  value,\n  className,\n  disabled,\n  handleChange,\n}) => {\n  return (\n    <div className={`amount ${className}`}>\n      <button\n        type=\"button\"\n        onClick={handleClickRemove}\n        className=\"amount-button\">\n        <img\n          src={iconMinus}\n          width=\"20\"\n          height=\"20\"\n          alt=\"Plus\"\n          className=\"amount-image\"\n        />\n      </button>\n      <input\n        type=\"text\"\n        className=\"amount-value\"\n        disabled={disabled}\n        value={value}\n        min={1}\n        maxLength={3}\n        onChange={(e) => {\n          handleChange(e.target.value);\n        }}\n      />\n      <button type=\"button\" onClick={handleClickAdd} className=\"amount-button\">\n        <img\n          src={iconPlus}\n          width=\"20\"\n          height=\"20\"\n          alt=\"Minus\"\n          className=\"amount-image\"\n        />\n      </button>\n    </div>\n  );\n};\n","import { useDispatch, useSelector } from \"react-redux\";\n\nimport { createUrlForStatic } from \"../../../constants/api\";\nimport { actions } from \"../../../store/slices/cart\";\nimport { Amount } from \"../../ui/amount\";\n\nexport const ProductItem = ({ product }) => {\n  const productInCart = useSelector((state) =>\n    state.cart.find((item) => product.name === item.name)\n  );\n\n  const dispatch = useDispatch();\n\n  const handleClickButtonAdd = () => {\n    dispatch(actions.addItem(product));\n  };\n\n  const handleClickButtonRemove = () => {\n    dispatch(actions.removeItem(product));\n  };\n\n  return (\n    <li className=\"product__item\">\n      <img\n        src={createUrlForStatic(product.image)}\n        alt={product.name}\n        className=\"product__item-img\"\n        width=\"200\"\n        height=\"200\"\n      />\n      <p className=\"product__item-name\">{product.name}</p>\n      <p className=\"product__item-price\">{product.price} $</p>\n\n      {productInCart ? (\n        <Amount\n          value={productInCart.counter}\n          handleClickAdd={handleClickButtonAdd}\n          handleClickRemove={handleClickButtonRemove}\n          disabled\n        />\n      ) : (\n        <button\n          className=\"product__item-button\"\n          type=\"button\"\n          onClick={handleClickButtonAdd}>\n          Добавить в корзину\n        </button>\n      )}\n    </li>\n  );\n};\n","import { withLoading } from \"../../../HOC/with-loading\";\nimport { ProductItem } from \"./product-item\";\n\nexport const ProductList = withLoading(({ products }) => {\n  return (\n    <ul className=\"product__list\">\n      {products.map((product) => (\n        <ProductItem product={product} key={product.name} />\n      ))}\n    </ul>\n  );\n}, \"product.loading\");\n","import { createContext, useContext } from \"react\";\n\nexport const DealersContext = createContext([]);\n\nexport const useDealersContext = () => useContext(DealersContext);\n","import { ProductPage } from \"../components/Product/product-page\";\n\nexport const Product = ProductPage;\n","import { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { fetchProduct } from \"../../store/slices/product\";\nimport { ProductList } from \"./ui/product-list\";\nimport { useDealersContext } from \"../../context/dealers-context\";\n\nexport const ProductPage = () => {\n  const { dealers } = useDealersContext();\n\n  const productData = useSelector((state) => {\n    return state.product;\n  });\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchProduct(dealers));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <section className=\"product container-95\">\n      <ProductList products={productData.products} />\n    </section>\n  );\n};\n","import { useHistory } from \"react-router-dom\";\n\nexport const ButtonBack = ({ className }) => {\n  const history = useHistory();\n\n  const classNames = [\"button-back\", className];\n\n  return (\n    <button\n      type=\"button\"\n      className={classNames.join(\" \")}\n      onClick={history.goBack}>\n      Назад\n    </button>\n  );\n};\n","import { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { routes } from \"../../../routes\";\nimport { actions } from \"../../../store/slices/cart\";\n\nexport const CartInfo = () => {\n  const dispatch = useDispatch();\n\n  const history = useHistory();\n\n  const totalSum = useSelector((state) =>\n    state.cart.reduce((acc, item) => acc + item.counter * item.price, 0)\n  );\n\n  const handleSumbit = () => {\n    setTimeout(() => {\n      dispatch(actions.clearAllCart());\n\n      history.push(routes.product);\n    }, 500);\n  };\n\n  return (\n    <div className=\"cart__info\">\n      <p className=\"cart__info-price\">\n        К оплате :<span>{totalSum.toFixed(2)}$</span>\n      </p>\n      <button\n        type=\"button\"\n        className=\"cart__info-button\"\n        onClick={handleSumbit}>\n        Оформить заказ\n      </button>\n    </div>\n  );\n};\n","import iconAdd from \"../../assests/icons/add.svg\";\n\nexport const ButtonClose = ({\n  height = 30,\n  width = 30,\n  className,\n  handleClick,\n}) => {\n  return (\n    <button\n      type=\"button\"\n      className={`button-close ${className}`}\n      onClick={handleClick}>\n      <img height={height} width={width} src={iconAdd} alt=\"Remove\" />\n    </button>\n  );\n};\n","import { useDispatch } from \"react-redux\";\n\nimport { createUrlForStatic } from \"../../../constants/api\";\nimport { actions } from \"../../../store/slices/cart\";\nimport { Amount } from \"../../ui/amount\";\nimport { ButtonClose } from \"../../ui/button-close\";\n\nexport const CartItem = ({ product }) => {\n  const dispatch = useDispatch();\n\n  const handleClickButtonAdd = () => {\n    dispatch(actions.addItem(product));\n  };\n\n  const handleClickButtonRemove = () => {\n    dispatch(actions.removeItem(product));\n  };\n\n  const handleClickButtonClose = () => {\n    dispatch(actions.removeItemFully(product));\n  };\n\n  const handleChange = (value) => {\n    if (value < 1000) {\n      dispatch(actions.updateItem({ ...product, counter: +value }));\n    }\n  };\n\n  return (\n    <li className=\"cart__list-item\">\n      <div className=\"cart__item-left\">\n        <img\n          src={createUrlForStatic(product.image)}\n          alt={product.name}\n          className=\"cart__item-img\"\n          width=\"75\"\n          height=\"75\"\n        />\n        <p className=\"cart__item-name\"> {product.name}</p>\n      </div>\n      <div className=\"cart__item-right\">\n        <Amount\n          className=\"h-50\"\n          value={product.counter}\n          handleClickAdd={handleClickButtonAdd}\n          handleClickRemove={handleClickButtonRemove}\n          handleChange={handleChange}\n        />\n        <p className=\"cart__item-price\">{product.price} $</p>\n\n        <div>\n          <ButtonClose\n            className=\"cart__item-button-close\"\n            handleClick={handleClickButtonClose}\n          />\n        </div>\n      </div>\n    </li>\n  );\n};\n","import { useSelector } from \"react-redux\";\nimport { CartItem } from \"./cart-item\";\n\nexport const CartList = () => {\n  const cart = useSelector((state) => state.cart);\n\n  return (\n    <ul className=\"cart__list\">\n      {cart.map((product) => (\n        <CartItem product={product} key={product.name} />\n      ))}\n    </ul>\n  );\n};\n","import { CartPage } from \"../components/Cart/cart-page\";\n\nexport const Cart = CartPage;\n","import { useSelector } from \"react-redux\";\n\nimport { ButtonBack } from \"../ui/button-back\";\n\nimport { CartInfo } from \"./ui/cart-info\";\nimport { CartList } from \"./ui/cart-list\";\n\nexport const CartPage = () => {\n  const cart = useSelector((state) => state.cart);\n\n  return (\n    <section className=\"cart container-95\">\n      <ButtonBack />\n\n      <h2 className=\"cart__title\">Содержание заказа</h2>\n\n      {cart.length > 0 ? (\n        <>\n          <CartList />\n          <CartInfo />\n        </>\n      ) : (\n        <p>Корзина пуста</p>\n      )}\n    </section>\n  );\n};\n","import { useLayoutEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport isEmpty from \"lodash/isEmpty\";\nimport intersectionBy from \"lodash/intersectionBy\";\n\nimport { Header } from \"./components/ui/header\";\n\nimport { Product } from \"./pages/product\";\nimport { Cart } from \"./pages/cart\";\nimport { routes } from \"./routes\";\nimport { actions } from \"./store/slices/cart\";\nimport { useDealersContext } from \"./context/dealers-context\";\nimport { createUrlAPI } from \"./constants/api\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const { dealers } = useDealersContext();\n\n  const setCartOutLocalStorageAtInizializationApp = async () => {\n    const dataCartLocalStorage = JSON.parse(localStorage.getItem(\"cart\"));\n\n    if (dataCartLocalStorage && dataCartLocalStorage.length > 0) {\n      if (!isEmpty(dealers)) {\n        const response = await fetch(\n          createUrlAPI([\"/goods\", `/?dealers=${dealers.join(\",\")}`])\n        );\n\n        const products = await response.json();\n\n        const productsByFilterDealers = intersectionBy(\n          dataCartLocalStorage,\n          products,\n          \"name\"\n        );\n\n        dispatch(actions.setCart(productsByFilterDealers));\n\n        return;\n      }\n\n      dispatch(actions.setCart(dataCartLocalStorage));\n    }\n  };\n\n  useLayoutEffect(() => {\n    setCartOutLocalStorageAtInizializationApp();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Router>\n      <Header />\n      <Switch>\n        <Route path={routes.product} component={Product} exact />\n        <Route path={routes.cart} component={Cart} exact />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import { combineReducers, configureStore } from \"@reduxjs/toolkit\";\nimport thunk from \"redux-thunk\";\n\nimport { productSlice } from \"./slices/product\";\nimport { cartSlice } from \"./slices/cart\";\nimport { localStorageMiddleware } from \"./middleware/local-storage\";\n\nexport const store = configureStore({\n  reducer: combineReducers({\n    product: productSlice.reducer,\n    cart: cartSlice.reducer,\n  }),\n  middleware: [thunk, localStorageMiddleware],\n});\n","export const localStorageMiddleware = (state) => (next) => (action) => {\n  const result = next(action);\n\n  if (result.type.includes(\"cart/\")) {\n    localStorage.setItem(\"cart\", JSON.stringify(state.getState().cart));\n  }\n\n  return result;\n};\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport App from \"./App\";\nimport { DealersContext } from \"./context/dealers-context\";\nimport { store } from \"./store/store\";\n\nimport \"./assests/style/style.sass\";\n\nfunction startApp(dealers) {\n  ReactDOM.render(\n    <DealersContext.Provider value={dealers}>\n      <StrictMode>\n        <Provider store={store}>\n          <App />\n        </Provider>\n      </StrictMode>\n    </DealersContext.Provider>,\n    document.getElementById(\"root\")\n  );\n}\n\nwindow.app = {\n  startApp,\n};\n"],"sourceRoot":""}