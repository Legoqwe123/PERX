{"version":3,"sources":["components/ui/badge.jsx","assests/icons/shopping-basket.svg","routes.js","store/slices/cart.js","components/ui/header.jsx","constants/api.js","store/slices/product.js","assests/icons/add.svg","assests/icons/minus.svg","components/ui/amount.jsx","components/Product/ui/product-item.jsx","components/Product/ui/product-list.jsx","pages/product.js","components/Product/product-page.jsx","components/ui/button-back.jsx","components/Cart/ui/cart-info.jsx","components/ui/button-close.jsx","components/Cart/ui/cart-item.jsx","components/Cart/ui/cart-list.jsx","pages/cart.js","components/Cart/cart-page.jsx","store/store.js","store/middleware/local-storage.js","App.jsx","context/dealers-context.js","index.js"],"names":["Badge","content","children","className","routes","Object","freeze","product","cart","cartSlice","createSlice","name","initialState","reducers","addProduct","state","action","productIndexInCart","findIndex","itemCart","payload","counter","push","removeProduct","filter","setCart","_","updateProduct","removeProductFully","clearAll","actions","Header","dispatch","useDispatch","counterProductInCart","useSelector","reduce","acc","item","useLayoutEffect","dataCartLocalStorage","JSON","parse","localStorage","getItem","length","to","src","cartIcon","width","height","alt","API_URL","createUrlAPI","path","Array","isArray","createUrlForStatic","indexLastSlash","lastIndexOf","slice","productSlice","loading","error","products","fetchProductRequested","fetchProductSuccess","fetchProductFailure","Amount","handleClickAdd","handleClickRemove","value","disabled","handleChange","type","onClick","iconMinus","min","maxLength","onChange","e","target","iconPlus","ProductItem","productInCart","find","handleClickButtonAdd","image","price","ProductList","map","Product","productData","useEffect","dealers","a","fetchUrl","isEmpty","join","fetch","response","json","data","ButtonBack","history","useHistory","classNames","goBack","CartInfo","totalSum","toFixed","setTimeout","ButtonClose","handleClick","iconAdd","CartItem","CartList","Cart","store","configureStore","reducer","combineReducers","middleware","thunk","next","result","includes","setItem","stringify","getState","App","component","exact","DealersContext","createContext","window","app","startApp","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.e10d85ae.chunk.js","sourcesContent":["export const Badge = ({ content, children }) => {\n  return (\n    <div className=\"badge\">\n      {children}\n      <span className=\"badge-content\">{content}</span>\n    </div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/shopping-basket.7340c518.svg\";","export const routes = Object.freeze({\n  product: \"/\",\n  cart: \"/cart\",\n});\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialCartValues = [];\n\nexport const cartSlice = createSlice({\n  name: \"cart\",\n  initialState: initialCartValues,\n  reducers: {\n    addProduct(state, action) {\n      const productIndexInCart = state.findIndex(\n        (itemCart) => itemCart.name === action.payload.name\n      );\n\n      if (productIndexInCart >= 0) {\n        state[productIndexInCart].counter++;\n\n        return;\n      }\n\n      state.push({ ...action.payload, counter: 1 });\n    },\n\n    removeProduct(state, action) {\n      const productIndexInCart = state.findIndex(\n        (itemCart) => itemCart.name === action.payload.name\n      );\n\n      const shouldRemoveProduct = state[productIndexInCart].counter <= 1;\n\n      if (shouldRemoveProduct) {\n        return state.filter((product) => product.name !== action.payload.name);\n      }\n\n      state[productIndexInCart].counter--;\n    },\n\n    setCart(_, action) {\n      return action.payload;\n    },\n\n    updateProduct(state, action) {\n      const productIndexInCart = state.findIndex(\n        (itemCart) => itemCart.name === action.payload.name\n      );\n\n      state[productIndexInCart] = action.payload;\n    },\n\n    removeProductFully(state, action) {\n      return state.filter((product) => product.name !== action.payload.name);\n    },\n\n    clearAll() {\n      return [];\n    },\n  },\n});\n\nexport const actions = cartSlice.actions;\n","import { useLayoutEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport { Badge } from \"./badge\";\n\nimport cartIcon from \"../../assests/icons/shopping-basket.svg\";\nimport { routes } from \"../../routes\";\nimport { actions } from \"../../store/slices/cart\";\n\nexport const Header = () => {\n  const dispatch = useDispatch();\n  const counterProductInCart = useSelector((state) =>\n    state.cart.reduce((acc, item) => acc + item.counter, 0)\n  );\n\n  useLayoutEffect(() => {\n    const dataCartLocalStorage = JSON.parse(localStorage.getItem(\"cart\"));\n\n    if (dataCartLocalStorage && dataCartLocalStorage.length > 0) {\n      dispatch(actions.setCart(dataCartLocalStorage));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <header className=\"shop-header\">\n      <div className=\"shop-header__wrapper container-95\">\n        <p className=\"shop-header__text\">Интернет магазин</p>\n\n        <Link to={routes.cart}>\n          <Badge content={counterProductInCart}>\n            <img src={cartIcon} width=\"40\" height=\"40\" alt=\"Cart\" />\n          </Badge>\n        </Link>\n      </div>\n    </header>\n  );\n};\n","export const API_URL = \"https://murmuring-tor-81614.herokuapp.com/api\";\n\nexport const createUrlAPI = (path) => {\n  if (Array.isArray(path)) {\n    return path.reduce((acc, item) => acc + item, API_URL);\n  }\n\n  return API_URL + path;\n};\n\nexport const createUrlForStatic = (path) => {\n  const indexLastSlash = API_URL.lastIndexOf(\"/\");\n  const urlWithoutLastSlash = API_URL.slice(0, indexLastSlash);\n\n  return urlWithoutLastSlash + path;\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport isEmpty from \"lodash/isEmpty\";\n\nimport { createUrlAPI } from \"../../constants/api\";\n\nconst initialProductValues = {\n  loading: false,\n  error: {},\n  products: [],\n};\n\nexport const productSlice = createSlice({\n  name: \"product\",\n  initialState: initialProductValues,\n  reducers: {\n    fetchProductRequested(state) {\n      state.loading = true;\n    },\n    fetchProductSuccess(state, action) {\n      state.loading = false;\n      state.products = action.payload;\n    },\n    fetchProductFailure(state, action) {\n      state.error = action.payload;\n      state.error = false;\n    },\n  },\n});\n\nexport const actions = productSlice.actions;\n\nexport const fetchProduct = (dealers) => async (dispatch) => {\n  dispatch(actions.fetchProductRequested());\n\n  const fetchUrl = isEmpty(dealers)\n    ? createUrlAPI(\"/goods\")\n    : createUrlAPI([\"/goods\", `?=${dealers.join(\",\")}`]);\n\n  try {\n    const response = await fetch(fetchUrl);\n    const data = await response.json();\n\n    dispatch(actions.fetchProductSuccess(data));\n  } catch (error) {\n    dispatch(actions.fetchProductFailure(error));\n  }\n};\n","export default __webpack_public_path__ + \"static/media/add.c6f2e133.svg\";","export default __webpack_public_path__ + \"static/media/minus.7aa3be90.svg\";","import iconPlus from \"../../assests/icons/add.svg\";\nimport iconMinus from \"../../assests/icons/minus.svg\";\n\nexport const Amount = ({\n  handleClickAdd,\n  handleClickRemove,\n  value,\n  className,\n  disabled,\n  handleChange,\n}) => {\n  return (\n    <div className={`amount ${className}`}>\n      <button\n        type=\"button\"\n        onClick={handleClickRemove}\n        className=\"amount-button\">\n        <img\n          src={iconMinus}\n          width=\"20\"\n          height=\"20\"\n          alt=\"Plus\"\n          className=\"amount-image\"\n        />\n      </button>\n      <input\n        type=\"text\"\n        className=\"amount-value\"\n        disabled={disabled}\n        value={value}\n        min={1}\n        maxLength={3}\n        onChange={(e) => {\n          handleChange(e.target.value);\n        }}\n      />\n      <button type=\"button\" onClick={handleClickAdd} className=\"amount-button\">\n        <img\n          src={iconPlus}\n          width=\"20\"\n          height=\"20\"\n          alt=\"Minus\"\n          className=\"amount-image\"\n        />\n      </button>\n    </div>\n  );\n};\n","import { useDispatch, useSelector } from \"react-redux\";\n\nimport { createUrlForStatic } from \"../../../constants/api\";\nimport { actions } from \"../../../store/slices/cart\";\nimport { Amount } from \"../../ui/amount\";\n\nexport const ProductItem = ({ product }) => {\n  const productInCart = useSelector((state) =>\n    state.cart.find((item) => product.name === item.name)\n  );\n\n  const dispatch = useDispatch();\n\n  const handleClickButtonAdd = () => {\n    dispatch(actions.addProduct(product));\n  };\n\n  const handleClickButtonRemove = () => {\n    dispatch(actions.removeProduct(product));\n  };\n\n  return (\n    <li className=\"product__item\">\n      <img\n        src={createUrlForStatic(product.image)}\n        alt={product.name}\n        className=\"product__item-img\"\n        width=\"200\"\n        height=\"200\"\n      />\n      <p className=\"product__item-name\">{product.name}</p>\n      <p className=\"product__item-price\">{product.price} $</p>\n\n      {productInCart ? (\n        <Amount\n          value={productInCart.counter}\n          handleClickAdd={handleClickButtonAdd}\n          handleClickRemove={handleClickButtonRemove}\n          disabled\n        />\n      ) : (\n        <button\n          className=\"product__item-button\"\n          type=\"button\"\n          onClick={handleClickButtonAdd}>\n          Добавить в корзину\n        </button>\n      )}\n    </li>\n  );\n};\n","import { ProductItem } from \"./product-item\";\n\nexport const ProductList = ({ products }) => {\n  return (\n    <ul className=\"product__list\">\n      {products.map((product) => (\n        <ProductItem product={product} key={product.name} />\n      ))}\n    </ul>\n  );\n};\n","import { ProductPage } from \"../components/Product/product-page\";\n\nexport const Product = ProductPage;\n","import isEmpty from \"lodash/isEmpty\";\nimport { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { fetchProduct } from \"../../store/slices/product\";\nimport { ProductList } from \"./ui/product-list\";\n\nexport const ProductPage = () => {\n  const productData = useSelector((state) => {\n    return state.product;\n  });\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchProduct());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <section className=\"product container-95\">\n      {!isEmpty(productData.products) && isEmpty(productData.error) && (\n        <ProductList products={productData.products} />\n      )}\n    </section>\n  );\n};\n","import { useHistory } from \"react-router-dom\";\n\nexport const ButtonBack = ({ className }) => {\n  const history = useHistory();\n\n  const classNames = [\"button-back\", className];\n\n  return (\n    <button\n      type=\"button\"\n      className={classNames.join(\" \")}\n      onClick={history.goBack}>\n      Назад\n    </button>\n  );\n};\n","import { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { routes } from \"../../../routes\";\nimport { actions } from \"../../../store/slices/cart\";\n\nexport const CartInfo = () => {\n  const dispatch = useDispatch();\n\n  const history = useHistory();\n\n  const totalSum = useSelector((state) =>\n    state.cart.reduce((acc, item) => acc + item.counter * item.price, 0)\n  );\n\n  const handleSumbit = () => {\n    setTimeout(() => {\n      dispatch(actions.clearAll());\n\n      history.push(routes.product);\n    }, 500);\n  };\n\n  return (\n    <div className=\"cart__info\">\n      <p className=\"cart__info-price\">\n        К оплате :<span>{totalSum.toFixed(2)}$</span>\n      </p>\n      <button\n        type=\"button\"\n        className=\"cart__info-button\"\n        onClick={handleSumbit}>\n        Оформить заказ\n      </button>\n    </div>\n  );\n};\n","import iconAdd from \"../../assests/icons/add.svg\";\n\nexport const ButtonClose = ({\n  height = 30,\n  width = 30,\n  className,\n  handleClick,\n}) => {\n  return (\n    <button\n      type=\"button\"\n      className={`button-close ${className}`}\n      onClick={handleClick}>\n      <img height={height} width={width} src={iconAdd} alt=\"Remove\" />\n    </button>\n  );\n};\n","import { useDispatch } from \"react-redux\";\n\nimport { createUrlForStatic } from \"../../../constants/api\";\nimport { actions } from \"../../../store/slices/cart\";\nimport { Amount } from \"../../ui/amount\";\nimport { ButtonClose } from \"../../ui/button-close\";\n\nexport const CartItem = ({ product }) => {\n  const dispatch = useDispatch();\n\n  const handleClickButtonAdd = () => {\n    dispatch(actions.addProduct(product));\n  };\n\n  const handleClickButtonRemove = () => {\n    dispatch(actions.removeProduct(product));\n  };\n\n  const handleClickButtonClose = () => {\n    dispatch(actions.removeProductFully(product));\n  };\n\n  const handleChange = (value) => {\n    if (value < 1000) {\n      dispatch(actions.updateProduct({ ...product, counter: +value }));\n    }\n  };\n\n  return (\n    <li className=\"cart__list-item\">\n      <div className=\"cart__item-left\">\n        <img\n          src={createUrlForStatic(product.image)}\n          alt={product.name}\n          className=\"cart__item-img\"\n          width=\"75\"\n          height=\"75\"\n        />\n        <p className=\"cart__item-name\"> {product.name}</p>\n      </div>\n      <div className=\"cart__item-right\">\n        <Amount\n          className=\"h-50\"\n          value={product.counter}\n          handleClickAdd={handleClickButtonAdd}\n          handleClickRemove={handleClickButtonRemove}\n          handleChange={handleChange}\n        />\n        <p className=\"cart__item-price\">{product.price} $</p>\n\n        <div>\n          <ButtonClose\n            className=\"cart__item-button-close\"\n            handleClick={handleClickButtonClose}\n          />\n        </div>\n      </div>\n    </li>\n  );\n};\n","import { useSelector } from \"react-redux\";\nimport { CartItem } from \"./cart-item\";\n\nexport const CartList = () => {\n  const cart = useSelector((state) => state.cart);\n\n  return (\n    <ul className=\"cart__list\">\n      {cart.map((product) => (\n        <CartItem product={product} key={product.name} />\n      ))}\n    </ul>\n  );\n};\n","import { CartPage } from \"../components/Cart/cart-page\";\n\nexport const Cart = CartPage;\n","import { useSelector } from \"react-redux\";\n\nimport { ButtonBack } from \"../ui/button-back\";\n\nimport { CartInfo } from \"./ui/cart-info\";\nimport { CartList } from \"./ui/cart-list\";\n\nexport const CartPage = () => {\n  const cart = useSelector((state) => state.cart);\n\n  return (\n    <section className=\"cart container-95\">\n      <ButtonBack />\n\n      <h2 className=\"cart__title\">Содержание заказа</h2>\n\n      {cart.length > 0 ? (\n        <>\n          <CartList />\n          <CartInfo />\n        </>\n      ) : (\n        <p>Корзина пуста</p>\n      )}\n    </section>\n  );\n};\n","import { combineReducers, configureStore } from \"@reduxjs/toolkit\";\nimport thunk from \"redux-thunk\";\n\nimport { productSlice } from \"./slices/product\";\nimport { cartSlice } from \"./slices/cart\";\nimport { localStorageMiddleware } from \"./middleware/local-storage\";\n\nexport const store = configureStore({\n  reducer: combineReducers({\n    product: productSlice.reducer,\n    cart: cartSlice.reducer,\n  }),\n  middleware: [thunk, localStorageMiddleware],\n});\n","export const localStorageMiddleware = (state) => (next) => (action) => {\n  const result = next(action);\n\n  if (result.type.includes(\"cart/\")) {\n    localStorage.setItem(\"cart\", JSON.stringify(state.getState().cart));\n  }\n\n  return result;\n};\n","import { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\n\nimport { Header } from \"./components/ui/header\";\n\nimport { Product } from \"./pages/product\";\nimport { Cart } from \"./pages/cart\";\nimport { routes } from \"./routes\";\nimport { store } from \"./store/store\";\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Router>\n        <Header />\n        <Switch>\n          <Route path={routes.product} component={Product} exact />\n          <Route path={routes.cart} component={Cart} exact />\n        </Switch>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","import { createContext, useContext } from \"react\";\n\nexport const DealersContext = createContext([]);\n\nexport const UseDealersContext = () => useContext(DealersContext);\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport { DealersContext } from \"./context/dealers-context\";\n\nimport \"./assests/style/style.sass\";\n\nfunction startApp(dealers) {\n  ReactDOM.render(\n    <DealersContext.Provider value={dealers}>\n      <StrictMode>\n        <App />\n      </StrictMode>\n    </DealersContext.Provider>,\n    document.getElementById(\"root\")\n  );\n}\n\nwindow.app = {\n  startApp,\n};\n"],"sourceRoot":""}